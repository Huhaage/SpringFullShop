<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{index.html}">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Caddy</title>
</head>

<body>
	<div layout:fragment="content">
		<div class="container padding-bottom-3x mb-1">
				<div th:if="${totalCaddy!=0.0}">
				<div th:if="${size!=0}">
					<!-- Shopping Cart-->
					<div class="table-responsive shopping-cart">
						<table class="table">
							<thead>
								<tr>
									<th>Products</th>
									<th class="text-center">Brand</th>
									<th class="text-center">Description</th>
									<th class="text-center">Quantity</th>
									<th class="text-center">Price</th>

									<!-- ajout fonction suppression du caddy -->
									<th class="text-center"><a class="btn btn-sm btn-outline-danger"
										th:href ="@{/clearCaddy}">Clear Cart</a></th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="a:${listCaddy}">
									<td>
										<div class="product-item">
											<a class="product-thumb" href="#"><img
											th:src="@{/img/}+${a.imgUrl}" alt="Product"></a>
										</div>
									</td>
									<td class="text-center" th:text="${a.brand}"></td>
									<td class="text-center" th:text="${a.description}"></td>
									<td class="text-center" th:text="${a.quantity}"></td>
									<td class="text-center text-lg text-medium"
										th:text="${a.price}">
									</td>
									<td class="text-center"><a class="delete"
										th:href="@{/delToCaddy(id=${a.id})}" data-original-title="Remove item"><i
											class="fa-solid fa-trash-can"></i></a>
										</td>
								</tr>
							</tbody>
						</table>
					</div>

					<div class="shopping-cart-footer">
						<div class="column">
							<form class="coupon-form" method="post">
								<input class="form-control form-control-sm" type="text"
									placeholder="Coupon code" required="">
								<button class="btn btn-outline-primary btn-sm" type="submit">Apply
									Coupon</button>
							</form>
						</div>
						<div class="column text-lg">
							Total: <span class="text-medium" th:text="${totalCaddy}"></span>
						</div>
					</div>
					<div class="shopping-cart-footer">
						<div class="column">
							<a class="btn btn-outline-secondary" th:href="@{/articles}"><i
								class="icon-arrow-left"></i>&nbsp;Back to Shopping</a>
						</div>
						<div class="column">
						
						
						<!-- LIEN VERS LE CHOIX DES ADDRESSES ! -->
							<a class="btn btn-success" th:href="@{/chooseAddress}">Checkout</a>
							
							
						</div>
					</div>
				</div>
			<!-- adapter la condition -->
				<div th:if="${totalCaddy==0.0}" class="container-fluid  mt-100">
				<div th:if="${size==0}" class="container-fluid  mt-100">
					<div class="row">
						<div class="col-md-12">
							<div class="card" id="emptyCard">
								<div class="card-header">
									<h5>Cart</h5>
								</div>
								<div class="card-body cart">
									<div class="col-sm-12 empty-cart-cls text-center">
										<img th:src="@{/img/dCdflKN.png}" width="130" height="130"
											class="img-fluid mb-4 mr-3">
										<h3>
											<strong>Votre panier est vide</strong>
										</h3>
										<h4>Add something to make me happy :)</h4>
										<div class="column">
											<a class="btn btn-outline-secondary" th:href="@{/articles}"><i
												class="icon-arrow-left"></i>&nbsp;Back to Shopping</a>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
		</div>
	</div>

</body>

</html>